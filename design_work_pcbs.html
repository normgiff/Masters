<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Master's Project</title>
  </head>
  
  <body>
    <header>
      <div class="inner">
        <a href="index.html"><h1>LV600</h1></a>
        <h2>where the devil lies in the details</h2>
        <a href="https://github.com/normgiff/Masters" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>
    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a id="-masters-" class="anchor" href="#-masters-" aria-hidden="true"><span class="octicon octicon-link"></span></a> Design Work: PCBs </h1>
<p>
<b>Schematic of Main PCB Board</b><br>
<IMG SRC="images/main_trunc.png" />
</p>

<p>
Below, we describe the workings of the <i>main</i> PCB board, planned to be designed as a four-layer board of roughly 30 square inches.
</p>

<p>
<b>Connection to BeagleBone Black (BBB)</b><br>
The BBB can be viewed as the master device, the FPGA as the slave device. To save on pins, the BBB will command the FPGA through UART.<br><br>
Communication between the master and slave devices is currently envisioned as follows:<br>
1) The BBB first configures the power board, in order to ensure that safe voltages propagate throughout the board. Although not shown in the image above, we recognize the importance of configuring the power board before power is actually distributed across the main PCB. (When the system as a whole is booted, transient voltages in the power board may be damaging.) As such, the BBB will first configure the power board to output standard voltages (5V and 0V for VDD and GND, respectively), and then turn on switches that allow power to transfer from the power board to the main board.<br>
2) The BBB sends over the test vectors and all template information to the FPGA device, which stores the data in its block RAM.<br>
3) The FPGA will load the template registers (explained later) and reset the counter, and then begins testing.<br>
4) The FPGA signals to the BBB when testing is complete. The BBB then instructs the FPGA to reset the counter and sweep the contents of SRAM into the output buffer, which the BBB will read.<br><br>

It is worth noting that steps 1, 2, and 4 encompass much delay. To simplify our design, we do not worry about delay except in step 3, where real-time testing is critical. (Note that real-time testing is interrupted whenever template registers have to be switched.)
</p>

<p>
<b>Template Registers, Tristate Buffers, and Force Formats</b><br>
External tristate buffers are used in order to prevent dangerous voltage levels from reaching the FPGA itself. The template registers simply contain a 0 or 1 for whether a corresponding pin on the FPGA is configured to be an input or output. Force format data is stored in the FPGA itself, as the logic for force formats is internal to the FPGA.
</p>

<p>
<b>PCI Form Factors</b><br>
In order to create space for tristate buffers on the top-side of the PCB, PCI form factors are mounted on the bottom-side of the board. These form factors should facilitate detaching the FPGA and its shield from the main PCB when needed.
</p>

<p>
<b>Counter and SRAM Blocks</b><br>
The FPGA will control and clock a counter that is used to address the SRAM blocks. At the end of every test vector, the voltage on all pins is sent (in pieces) to various SRAM blocks. We are aware that we need to be careful with the timing here! 
</p>

<p>
<b>ZIF Socket</b><br>
Equilibrium tracing is required for the connections between the FPGA, ZIF socket, tristate buffers, and SRAM blocks. We plan on manually routing these traces.
</p>

<a href="index.html">Click here</a> to return to the home page.
</p>
</p>
        </section>
        <aside id="sidebar">
          <a href="https://github.com/normgiff/Masters/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/normgiff/Masters/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>
          <p class="repo-owner"><a href="https://github.com/normgiff/Masters"></a> is maintained by <a href="https://github.com/normgiff">normgiff</a>.</p>
          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>
  </body>
</html>
